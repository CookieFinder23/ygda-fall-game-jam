[gd_scene load_steps=73 format=3 uid="uid://dqvdu3dys7bvv"]

[ext_resource type="Script" uid="uid://bi1ni5sleiwpy" path="res://scripts/player.gd" id="1_g2els"]
[ext_resource type="Texture2D" uid="uid://dmk7ppasyvxx6" path="res://assets/images/characters/hunter/idle1.png" id="3_j2b1d"]
[ext_resource type="Texture2D" uid="uid://c48nr5ltl4cnv" path="res://assets/images/characters/hunter/idle2.png" id="4_cs1tg"]
[ext_resource type="Texture2D" uid="uid://cekv7e5hyxokp" path="res://assets/images/characters/hunter/legs1.png" id="4_fulsm"]
[ext_resource type="Texture2D" uid="uid://q2dr1aevysgf" path="res://assets/images/characters/hunter/pixil-frame-0.png" id="4_oprun"]
[ext_resource type="Texture2D" uid="uid://bwtnfwna8nhxp" path="res://assets/images/characters/hunter/legs2.png" id="5_4r5pv"]
[ext_resource type="Texture2D" uid="uid://yqhae6mvkp8d" path="res://assets/images/characters/hunter/pixil-frame-1.png" id="5_a8ls1"]
[ext_resource type="Texture2D" uid="uid://dqrxjdgg7x1b" path="res://assets/images/characters/hunter/legs3.png" id="6_60mlk"]
[ext_resource type="Texture2D" uid="uid://dloc5bqs8ck1u" path="res://assets/images/characters/hunter/pixil-frame-2.png" id="6_qfm1y"]
[ext_resource type="Texture2D" uid="uid://hvbyn310g3qj" path="res://assets/images/characters/hunter/pixil-frame-3.png" id="7_fulsm"]
[ext_resource type="Texture2D" uid="uid://txv52aydxl7k" path="res://assets/images/characters/hunter/legs4.png" id="7_i4ail"]
[ext_resource type="Texture2D" uid="uid://vs2263801k67" path="res://assets/images/characters/hunter/pixil-frame-4.png" id="8_4r5pv"]
[ext_resource type="Texture2D" uid="uid://cr46fdjftlhbv" path="res://assets/images/reload_bar_horizontal.png" id="8_ur7pv"]
[ext_resource type="Texture2D" uid="uid://bygsh8cotgjsw" path="res://assets/images/characters/hunter/emptyLegs1.png" id="8_wnwbv"]
[ext_resource type="Texture2D" uid="uid://de7i5rvgaexgo" path="res://assets/images/characters/hunter/pixil-frame-5.png" id="9_60mlk"]
[ext_resource type="Texture2D" uid="uid://bxdptk874ixpu" path="res://assets/images/characters/hunter/emptyLegs2.png" id="9_gl8cc"]
[ext_resource type="Texture2D" uid="uid://dmwywj47010fb" path="res://assets/images/reload_bar_vertical.png" id="9_y4r1p"]
[ext_resource type="Texture2D" uid="uid://th4a83o3dxbp" path="res://assets/images/characters/hunter/emptyLegs3.png" id="10_487ah"]
[ext_resource type="Texture2D" uid="uid://cwp77l8pcqu7d" path="res://assets/images/characters/hunter/pixil-frame-6.png" id="10_i4ail"]
[ext_resource type="Texture2D" uid="uid://n7ae4jakg3wi" path="res://assets/images/characters/hunter/pixil-frame-7.png" id="11_a38lo"]
[ext_resource type="Texture2D" uid="uid://dh2ehicmgqip3" path="res://assets/images/characters/hunter/emptyLegs4.png" id="11_md1ol"]
[ext_resource type="Texture2D" uid="uid://bjvvaco4sw3p6" path="res://assets/images/characters/ice_mage/idle 1 body.png" id="16_pf23h"]
[ext_resource type="Texture2D" uid="uid://da0hd67yx38w4" path="res://assets/images/characters/ice_mage/w1.png" id="16_ujl30"]
[ext_resource type="Texture2D" uid="uid://c6dmhrow3a0aw" path="res://assets/images/characters/ice_mage/w2.png" id="17_31cv2"]
[ext_resource type="Texture2D" uid="uid://byt35ek2wginj" path="res://assets/images/characters/ice_mage/idle 2 body.png" id="17_dt7fs"]
[ext_resource type="Texture2D" uid="uid://btwcfq62a76v5" path="res://assets/images/characters/ice_mage/w3.png" id="18_pf23h"]
[ext_resource type="Texture2D" uid="uid://bst37m80tauqd" path="res://assets/images/characters/ice_mage/w4.png" id="19_dt7fs"]
[ext_resource type="Texture2D" uid="uid://iicfj16iejkl" path="res://assets/images/characters/ice_mage/w5.png" id="20_wqfne"]
[ext_resource type="Texture2D" uid="uid://qgvv1kvrtwnv" path="res://assets/images/characters/knight/legs1.png" id="21_fdfoy"]
[ext_resource type="Texture2D" uid="uid://dcbaamgdgo2d" path="res://assets/images/characters/ice_mage/w6.png" id="21_wnwbv"]
[ext_resource type="Texture2D" uid="uid://dy2eywb1s4t8w" path="res://assets/images/characters/ice_mage/w7.png" id="22_gl8cc"]
[ext_resource type="Texture2D" uid="uid://bp74c0tmt0jp3" path="res://assets/images/characters/knight/legs2.png" id="22_hhpqf"]
[ext_resource type="Texture2D" uid="uid://joffbh84iexf" path="res://assets/images/characters/ice_mage/backside idle 2.png" id="22_t4otl"]
[ext_resource type="Texture2D" uid="uid://c2huvbvkbu2n7" path="res://assets/images/characters/knight/legs3.png" id="23_g5jhy"]
[ext_resource type="Texture2D" uid="uid://dkwim0i34mkde" path="res://assets/images/characters/ice_mage/backside.png" id="23_j2b1d"]
[ext_resource type="Texture2D" uid="uid://bliencyniatd5" path="res://assets/images/characters/knight/legs4.png" id="24_holxr"]
[ext_resource type="Texture2D" uid="uid://8ejdkbhp5jdi" path="res://assets/images/characters/knight/head1.png" id="25_u2ulf"]
[ext_resource type="Texture2D" uid="uid://dm5mm3tbplnqd" path="res://assets/images/characters/knight/head2.png" id="26_6e8lb"]
[ext_resource type="Texture2D" uid="uid://dir5xwo5swkyc" path="res://assets/images/characters/knight/head3.png" id="27_2gdjj"]
[ext_resource type="Texture2D" uid="uid://bnj0knfjxet2o" path="res://assets/images/characters/knight/head4.png" id="28_sc3ue"]
[ext_resource type="Texture2D" uid="uid://bkpwgs855sd12" path="res://assets/images/characters/hunter/crossbow5.png" id="29_jc3p3"]
[ext_resource type="Texture2D" uid="uid://bsc7xx6oycq8n" path="res://assets/images/characters/knight/head5.png" id="29_lxlsd"]
[ext_resource type="Texture2D" uid="uid://dcbof87fn7cqa" path="res://assets/images/characters/knight/head6.png" id="30_ha2mi"]
[ext_resource type="Texture2D" uid="uid://chfnxqykqv2ov" path="res://assets/images/characters/hunter/crossbow4.png" id="30_hax0n"]
[ext_resource type="Texture2D" uid="uid://3jwsk8kofimj" path="res://assets/images/characters/knight/head7.png" id="31_2gdjj"]
[ext_resource type="Texture2D" uid="uid://cm40qif3g0qqb" path="res://assets/images/characters/hunter/crossbow3.png" id="31_t4otl"]
[ext_resource type="Texture2D" uid="uid://dxs3knt7xaw2p" path="res://assets/images/enemies/queitus/quietus_2.png" id="32_2gdjj"]
[ext_resource type="Texture2D" uid="uid://h57t4ljvhn2f" path="res://assets/images/characters/hunter/crossbow2.png" id="32_j2b1d"]
[ext_resource type="Texture2D" uid="uid://3qbi2o0tadhu" path="res://assets/images/characters/knight/head8.png" id="32_sc3ue"]
[ext_resource type="Texture2D" uid="uid://c33dndtd4pbff" path="res://assets/images/characters/hunter/crossbow1.png" id="33_cs1tg"]
[ext_resource type="Texture2D" uid="uid://ci7lijspvmknc" path="res://assets/images/characters/hunter/crossbowEmpty.png" id="34_2dvfe"]

[sub_resource type="SpriteFrames" id="SpriteFrames_fjrip"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_j2b1d")
}, {
"duration": 1.0,
"texture": ExtResource("4_cs1tg")
}],
"loop": true,
"name": &"idle",
"speed": 2.5
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_fulsm")
}, {
"duration": 1.0,
"texture": ExtResource("5_4r5pv")
}, {
"duration": 1.0,
"texture": ExtResource("6_60mlk")
}, {
"duration": 1.0,
"texture": ExtResource("7_i4ail")
}],
"loop": true,
"name": &"movement",
"speed": 7.5
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_wnwbv")
}, {
"duration": 1.0,
"texture": ExtResource("9_gl8cc")
}, {
"duration": 1.0,
"texture": ExtResource("10_487ah")
}, {
"duration": 1.0,
"texture": ExtResource("11_md1ol")
}],
"loop": false,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_4ni07"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_oprun")
}],
"loop": true,
"name": &"0",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_a8ls1")
}],
"loop": true,
"name": &"1",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_qfm1y")
}],
"loop": true,
"name": &"2",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_fulsm")
}],
"loop": true,
"name": &"3",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_4r5pv")
}],
"loop": true,
"name": &"4",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_60mlk")
}],
"loop": true,
"name": &"5",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_i4ail")
}],
"loop": true,
"name": &"6",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_a38lo")
}],
"loop": true,
"name": &"7",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_smehm"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("21_fdfoy")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("21_fdfoy")
}, {
"duration": 1.0,
"texture": ExtResource("22_hhpqf")
}, {
"duration": 1.0,
"texture": ExtResource("23_g5jhy")
}, {
"duration": 1.0,
"texture": ExtResource("24_holxr")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_apa73"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("25_u2ulf")
}],
"loop": true,
"name": &"0",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("26_6e8lb")
}],
"loop": true,
"name": &"1",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("27_2gdjj")
}],
"loop": true,
"name": &"2",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("28_sc3ue")
}],
"loop": true,
"name": &"3",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("29_lxlsd")
}],
"loop": true,
"name": &"4",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("30_ha2mi")
}],
"loop": true,
"name": &"5",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("31_2gdjj")
}],
"loop": true,
"name": &"6",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("32_sc3ue")
}],
"loop": true,
"name": &"7",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_ur7pv"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("32_2gdjj")
}],
"loop": false,
"name": &"fire",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("32_2gdjj")
}],
"loop": false,
"name": &"idle",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_t4otl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("16_pf23h")
}, {
"duration": 1.0,
"texture": ExtResource("17_dt7fs")
}],
"loop": true,
"name": &"idle",
"speed": 2.5
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("23_j2b1d")
}, {
"duration": 1.0,
"texture": ExtResource("22_t4otl")
}],
"loop": true,
"name": &"idle_back",
"speed": 2.5
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("16_ujl30")
}, {
"duration": 1.0,
"texture": ExtResource("17_31cv2")
}, {
"duration": 1.0,
"texture": ExtResource("18_pf23h")
}, {
"duration": 1.0,
"texture": ExtResource("19_dt7fs")
}, {
"duration": 1.0,
"texture": ExtResource("20_wqfne")
}, {
"duration": 1.0,
"texture": ExtResource("21_wnwbv")
}, {
"duration": 1.0,
"texture": ExtResource("22_gl8cc")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_md1ol"]
load_path = "res://.godot/imported/h1.png-aeba72bbbe63ac94b26ac7e8c0fffcfa.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_bj30b"]
load_path = "res://.godot/imported/h2.png-440aaa1f00f0598248eb939385236352.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_jc3p3"]
load_path = "res://.godot/imported/h3.png-ea6a323a1b1affc62f3e9c18aafe3d68.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_hax0n"]
load_path = "res://.godot/imported/h4.png-a537eb4947950b6f439ce5abb99f7481.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_t4otl"]
load_path = "res://.godot/imported/h5.png-00fe068f8d24dac9a7c55d3d7c16c2d3.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_j2b1d"]
load_path = "res://.godot/imported/h6.png-90dcfd074c6985f9979c25f93655310b.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_cs1tg"]
load_path = "res://.godot/imported/h7.png-0a32f7284b6202c727a1b063135fc630.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_2dvfe"]
load_path = "res://.godot/imported/h8.png-8125721c20ad731d02703acf4b6a935f.ctex"

[sub_resource type="SpriteFrames" id="SpriteFrames_j2b1d"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_md1ol")
}],
"loop": true,
"name": &"0",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_bj30b")
}],
"loop": true,
"name": &"1",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_jc3p3")
}],
"loop": true,
"name": &"2",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_hax0n")
}],
"loop": true,
"name": &"3",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_t4otl")
}],
"loop": true,
"name": &"4",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_j2b1d")
}],
"loop": true,
"name": &"5",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_cs1tg")
}],
"loop": true,
"name": &"6",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_2dvfe")
}],
"loop": true,
"name": &"7",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_tuyoq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("29_jc3p3")
}, {
"duration": 1.0,
"texture": ExtResource("30_hax0n")
}, {
"duration": 1.0,
"texture": ExtResource("31_t4otl")
}, {
"duration": 1.0,
"texture": ExtResource("32_j2b1d")
}, {
"duration": 1.0,
"texture": ExtResource("33_cs1tg")
}],
"loop": false,
"name": &"fire",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("34_2dvfe")
}],
"loop": false,
"name": &"idle",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_3v2ag"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-7.5, 0)]
}

[sub_resource type="Animation" id="Animation_d2wvv"]
resource_name = "slide_right"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-7.5, 0), Vector2(7.5, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jej6c"]
_data = {
&"RESET": SubResource("Animation_3v2ag"),
&"slide_right": SubResource("Animation_d2wvv")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_j2b1d"]
size = Vector2(10, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cs1tg"]
size = Vector2(16, 32)

[node name="Player" type="CharacterBody2D" groups=["Player"]]
collision_layer = 2
motion_mode = 1
platform_on_leave = 2
script = ExtResource("1_g2els")

[node name="HunterBodySprite" type="AnimatedSprite2D" parent="."]
visible = false
z_index = 1
sprite_frames = SubResource("SpriteFrames_fjrip")
animation = &"movement"

[node name="HunterHeadSprite" type="AnimatedSprite2D" parent="."]
visible = false
z_index = 1
position = Vector2(2, -11)
sprite_frames = SubResource("SpriteFrames_4ni07")
animation = &"0"

[node name="KnightBodySprite" type="AnimatedSprite2D" parent="."]
z_index = 1
sprite_frames = SubResource("SpriteFrames_smehm")
animation = &"idle"

[node name="KnightHeadSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -11.5)
sprite_frames = SubResource("SpriteFrames_apa73")
animation = &"1"

[node name="KnightWeaponSprite" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_ur7pv")
animation = &"idle"

[node name="IceMageBodySprite" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(3, -6)
sprite_frames = SubResource("SpriteFrames_t4otl")
animation = &"idle_back"

[node name="IceMageHeadSprite" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(3, -6)
sprite_frames = SubResource("SpriteFrames_j2b1d")
animation = &"0"

[node name="AttackCooldown" type="Timer" parent="."]
process_callback = 0
one_shot = true

[node name="TransformationCooldown" type="Timer" parent="."]
process_callback = 0
wait_time = 6.0
autostart = true

[node name="MovementAbilityCooldown" type="Timer" parent="."]
process_callback = 0
one_shot = true

[node name="MovementAbilityInAction" type="Timer" parent="."]
process_callback = 0
wait_time = 2.0
one_shot = true

[node name="HunterWeaponSprite" type="AnimatedSprite2D" parent="."]
visible = false
sprite_frames = SubResource("SpriteFrames_tuyoq")
animation = &"fire"

[node name="ReloadBar" type="Sprite2D" parent="."]
visible = false
position = Vector2(0, 20)
texture = ExtResource("8_ur7pv")

[node name="ReloadBarVertical" type="Sprite2D" parent="ReloadBar"]
position = Vector2(-7.5, 0)
texture = ExtResource("9_y4r1p")

[node name="ReloadBarAnimationPlayer" type="AnimationPlayer" parent="ReloadBar/ReloadBarVertical"]
libraries = {
&"": SubResource("AnimationLibrary_jej6c")
}

[node name="ChangeSceenToStartScreen" type="Timer" parent="."]
one_shot = true

[node name="Hurtbox" type="Area2D" parent="."]
visible = false
collision_layer = 0
collision_mask = 4

[node name="PlayerCollision" type="CollisionShape2D" parent="Hurtbox"]
shape = SubResource("RectangleShape2D_j2b1d")

[node name="PlayerCollision" type="CollisionShape2D" parent="."]
visible = false
shape = SubResource("RectangleShape2D_cs1tg")

[node name="IFrames" type="Timer" parent="."]
one_shot = true

[connection signal="timeout" from="TransformationCooldown" to="." method="_on_transformation_cooldown_timeout"]
[connection signal="timeout" from="MovementAbilityInAction" to="." method="_on_movement_ability_in_action_timeout"]
[connection signal="animation_finished" from="ReloadBar/ReloadBarVertical/ReloadBarAnimationPlayer" to="." method="_on_reload_bar_animation_player_animation_finished"]
[connection signal="timeout" from="ChangeSceenToStartScreen" to="." method="_on_change_sceen_to_start_screen_timeout"]
[connection signal="body_entered" from="Hurtbox" to="." method="_on_hurtbox_body_entered"]
